package com.java;

import java.util.Arrays;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class CountEachChar {

	public static void main(String[] args) {
		String str = "aaabbcccdeff";

		String result = Arrays.stream(IntStream.range(0, str.length())
				.mapToObj(i -> (i == 0 || str.charAt(i) != str.charAt(i - 1) ? "|" : "") + str.charAt(i))
				.collect(Collectors.joining()).substring(1) // remove leading "|"
				.split("\\|")).map(s -> s.length() + String.valueOf(s.charAt(0))).collect(Collectors.joining());

		System.out.println(result); // âœ… 3a2b3c1d1e2f

	}

}
